(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{158:function(e,t,a){},159:function(e,t,a){},264:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(45),s=a.n(c),o=(a(158),a.p,a(159),a(160),a(44)),i=a(23),l=a(268),j=a(273),u=a(149),d=a(28),p=a.n(d),h=a(24),b=a(6),O=Object(n.createContext)(),m=function(e){var t=Object(n.useState)(localStorage.getItem("usuario")),a=Object(h.a)(t,2),r=a[0],c=a[1];return Object(b.jsx)(O.Provider,{value:{usuario:r,setUsuario:c},children:e.children})},x=a(26),f=a.n(x),g=function(){console.log("dasd");var e=Object(n.useContext)(O),t=e.usuario,a=e.setUsuario,r=Object(i.f)(),c=Object(i.g)();return console.log(t),Object(n.useEffect)((function(){t&&r.push("/"),console.log(c.pathname)}),[]),Object(b.jsxs)("div",{style:{margin:40},children:[Object(b.jsx)("h1",{children:"Login"}),Object(b.jsxs)(l.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:8},onFinish:function(e){console.log("Success:",e),p.a.post("http://localhost:8000/api/user/login",e).then((function(e){e.data._id?(a(e.data._id),localStorage.setItem("usuario",e.data._id),r.push("/")):f.a.fire({icon:"error",title:"Oops...",text:e.data.message})})).catch((function(e){return console.log(e)}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(b.jsx)(l.a.Item,{label:"Username",name:"email",rules:[{required:!0,message:"Ingresa tu usuario"}],children:Object(b.jsx)(j.a,{})}),Object(b.jsx)(l.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"ingresa tu contrase\xf1a"}],children:Object(b.jsx)(j.a.Password,{})}),Object(b.jsx)(l.a.Item,{wrapperCol:{offset:8,span:8},children:Object(b.jsx)(u.a,{type:"primary",htmlType:"submit",children:"Ingresar"})})]})]})},v=function(){return Object(b.jsx)("div",{children:"No existe la p\xe1gina"})},y=a(40),w=a(272),C=function(){w.a.Option;var e=l.a.useForm(),t=Object(h.a)(e,1)[0],a=Object(i.f)(),r=Object(n.useContext)(O),c=(r.usuario,r.setUsuario),s=Object(n.useState)({nombre:"",apellido:"",email:"",password:""}),o=Object(h.a)(s,2),d=o[0],m=o[1];d.nombre,d.apellido,d.email,d.password,d.genero;return Object(b.jsxs)("div",{style:{margin:40},children:[Object(b.jsx)("h1",{children:"Registrarse"}),Object(b.jsxs)(l.a,Object(y.a)(Object(y.a)({form:t,name:"register"},{labelCol:{span:8},wrapperCol:{span:8}}),{},{onFinish:function(e){console.log("Received values of form: ",e),m(e),p.a.post("http://localhost:8000/api/user/create",e).then((function(e){200===e.status?f.a.fire({title:"Registro exitoso",text:"Ahora puedes iniciar sesi\xf3n",icon:"success",confirmButtonText:"Aceptar"}).then((function(t){console.log(t),t.isConfirmed?(c(e.data._id),localStorage.setItem("usuario",e.data._id),a.push("/")):console.log("Cancelado")})).catch((function(e){console.log(e)})):f.a.fire("Error","El correo ya esta registrado","error")})).catch((function(e){f.a.fire("Error",e.response.data.message,"error")}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(b.jsx)(l.a.Item,{label:"Nombre",name:"nombre",rules:[{required:!0,message:"Ingresa el nombre"},{min:3,message:"MInimo de caracteres 3"}],children:Object(b.jsx)(j.a,{})}),Object(b.jsx)(l.a.Item,{label:"apellido",name:"apellido",rules:[{required:!0,message:"Ingresa el apellido"},{min:3,message:"MInimo de caracteres 3"}],children:Object(b.jsx)(j.a,{})}),Object(b.jsx)(l.a.Item,{label:"correo",name:"email",rules:[{type:"email",message:"Ingresa un Email"},{required:!0,message:"Ingresa un Email"}],children:Object(b.jsx)(j.a,{})}),Object(b.jsx)(l.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(b.jsx)(j.a.Password,{})}),Object(b.jsx)(l.a.Item,{label:"Confirmar password",name:"confirmpassword",dependencies:["password"],rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject(new Error("las contrase\xf1as no coinciden")):Promise.resolve()}}}],children:Object(b.jsx)(j.a.Password,{})}),Object(b.jsx)(l.a.Item,{wrapperCol:{offset:8,span:8},children:Object(b.jsx)(u.a,{type:"primary",htmlType:"submit",children:"Crear"})})]}))]})},I=a(75),E=a(33),k=a.n(E),F=a(50),S=a(71),P=a(47),q=a(269),N=a(270),U=a(274),A=function(){var e=Object(n.useContext)(O),t=(e.usuario,e.setUsuario),a=Object(i.f)();U.a.SubMenu;return Object(b.jsx)("div",{children:Object(b.jsxs)(U.a,{mode:"horizontal",style:{backgroundColor:"#783f04"},children:[Object(b.jsx)(U.a.Item,{style:{color:"white"},onClick:function(){return a.push("/")},children:"Crew Board"},"mail"),Object(b.jsx)(U.a.Item,{style:{marginLeft:"auto"},children:Object(b.jsx)(u.a,{type:"primary",onClick:function(){t(null),localStorage.clear()},children:"Cerrar Sesi\xf3n"})},"alipay")]})})},M=function(){var e=Object(i.g)(),t=Object(n.useContext)(O),a=t.usuario,r=(t.setUsuario,Object(n.useState)(!1)),c=Object(h.a)(r,2),s=(c[0],c[1]),o=Object(n.useState)({}),l=Object(h.a)(o,2),j=l[0],d=l[1],m=Object(i.h)().id,x=Object(i.f)();Object(n.useEffect)((function(){a||(console.log("no hay usuario"),x.push("/login")),"/addPirate"===e.pathname?(s(!0),console.log("add")):(f(),console.log("edit"))}),[e.pathname,a]);var f=function(){var e=Object(F.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://localhost:8000/api/pirate/".concat(m));case 3:t=e.sent,console.log(t.data),d(t.data),s(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),g=function(e,t){console.log(e,t);var a=Object(I.a)({},e,!t);p.a.put("http://localhost:8000/api/pirate/updateestatus/".concat(m),a).then((function(e){console.log(e)})),d(Object(y.a)(Object(y.a)({},j),{},Object(I.a)({},e,!t)))};return console.log(j),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(A,{}),Object(b.jsxs)(S.a,{children:[Object(b.jsx)(P.a,{span:24,children:Object(b.jsx)("h1",{children:j.nombre})}),Object(b.jsx)(P.a,{span:12,children:Object(b.jsx)(q.a,{width:400,src:j.image})}),Object(b.jsx)(P.a,{span:12,children:Object(b.jsxs)(N.a,{title:"About",bordered:!1,style:{width:"40%",textAlign:"left"},children:[Object(b.jsxs)("p",{children:["Position: ",j.type]}),Object(b.jsxs)("p",{children:["Chest: ",j.chest]}),Object(b.jsxs)("div",{mar:!0,children:[Object(b.jsxs)("p",{style:{display:"inline"},children:["Peg leg: ",j.leg?"yes":"no"," "]})," ",Object(b.jsxs)(u.a,{type:"primary",onClick:function(){return g("leg",j.leg)},children:[" ",j.leg?"Yes":"No"," "]})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("p",{style:{display:"inline"},children:["Eye Patch: ",j.eye?"yes":"no"]})," ",Object(b.jsxs)(u.a,{type:"primary",onClick:function(){return g("eye",j.eye)},children:[j.eye?"Yes":"No"," "]})]}),Object(b.jsxs)("div",{style:{display:"inline"},children:[Object(b.jsxs)("p",{style:{display:"inline"},children:["Hook Hand ",j.hand?"yes":"no"]}),Object(b.jsxs)(u.a,{type:"primary",onClick:function(){return g("hand",j.hand)},children:[j.hand?"Yes":"No"," "]})]})]})})]})]})},R=a(275),_=function(){var e=Object(n.useContext)(O),t=e.usuario,a=(e.setUsuario,Object(i.f)()),r=Object(i.g)(),c=Object(i.h)().id,s=w.a.Option,o=l.a.useForm(),d=Object(h.a)(o,1)[0],m=Object(n.useState)(!0),x=Object(h.a)(m,2),g=x[0],v=x[1],C=Object(n.useState)(!1),I=Object(h.a)(C,2),E=I[0],S=I[1],P=Object(n.useState)({nombre:"",type:"",estado:""}),q=Object(h.a)(P,2),N=q[0],U=q[1];Object(n.useEffect)((function(){t||(console.log("no hay usuario"),a.push("/login")),"/add"===r.pathname?(v(!0),S(!0),console.log("add")):(v(!1),M(),console.log("edit"))}),[r.pathname]);var M=function(){var e=Object(F.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://localhost:8000/api/movie/".concat(c));case 3:t=e.sent,console.log(t.data),U(t.data),S(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),_=N.nombre,T=N.estado,B=N.type;return console.log(N),Object(b.jsxs)("div",{children:[Object(b.jsx)(A,{}),Object(b.jsx)("h1",{children:"Registrarse"}),E&&Object(b.jsxs)(l.a,Object(y.a)(Object(y.a)({form:d,initialValues:!g&&E?{estado:T,type:B,nombre:_}:{estado:!0},name:"register"},{labelCol:{span:8},wrapperCol:{span:8}}),{},{onFinish:g?function(e){console.log("Received values of form: ",e),p.a.post("http://localhost:8000/api/movie/create",e).then((function(e){200===e.status?(f.a.fire("Exito!","El registro se ha guardado con exito","success"),a.push("/")):f.a.fire("Error!","Ha ocurrido un error","error")})).catch((function(e){f.a.fire("Error",e.response.data.message,"error")}))}:function(e){console.log("Received values of form: ",e),p.a.put("http://localhost:8000/api/movie/update/".concat(c),e).then((function(e){200===e.status?(f.a.fire("Exito!","El registro se ha guardado con exito","success"),a.push("/")):f.a.fire("Error!","Ha ocurrido un error","error")})).catch((function(e){f.a.fire("Error",e.response.data.message,"error")}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(b.jsx)(l.a.Item,{label:"Nombre",name:"nombre",rules:[{required:!0,message:"Ingresa el nombre"},{min:3,message:"MInimo de caracteres 3"}],children:Object(b.jsx)(j.a,{})}),Object(b.jsx)(l.a.Item,{name:"type",label:"type",rules:[{required:!0,message:"Please select tipe!"}],children:Object(b.jsxs)(w.a,{defaultValue:"",children:[Object(b.jsx)(s,{value:"",children:"Selecciona tipo"}),Object(b.jsx)(s,{value:"terror",children:"terror"}),Object(b.jsx)(s,{value:"comedia",children:"comedia"}),Object(b.jsx)(s,{value:"accion",children:"accion"})]})}),Object(b.jsx)(l.a.Item,{name:"estado",valuePropName:"checked",wrapperCol:{offset:3,span:8},children:Object(b.jsx)(R.a,{children:"Activo"})}),Object(b.jsx)(l.a.Item,{wrapperCol:{offset:8,span:8},children:Object(b.jsx)(u.a,{type:"primary",htmlType:"submit",children:"Submit"})})]}))]})},T=a(271),B=function(){var e=Object(n.useContext)(O),t=e.usuario,a=(e.setUsuario,Object(i.f)()),r=Object(i.g)(),c=Object(i.h)().id,s=w.a.Option,o=l.a.useForm(),d=Object(h.a)(o,1)[0],m=Object(n.useState)(!0),x=Object(h.a)(m,2),g=x[0],v=x[1],C=Object(n.useState)(!1),I=Object(h.a)(C,2),E=I[0],S=I[1],P=Object(n.useState)(!1),q=Object(h.a)(P,2),N=q[0],U=q[1],M=Object(n.useState)({nombre:"",image:"",type:"",leg:"",eye:"",hand:"",chest:""}),_=Object(h.a)(M,2),B=_[0],H=_[1];Object(n.useEffect)((function(){t||(console.log("no hay usuario"),a.push("/login")),"/addpirate"===r.pathname?(v(!0),S(!0),V(),console.log("add")):(v(!1),L(),console.log("edit"))}),[r.pathname,t]);var L=function(){var e=Object(F.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://localhost:8000/api/pirate/".concat(c));case 3:t=e.sent,console.log(t.data),H(t.data),S(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(F.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://localhost:8000/api/pirate/find");case 3:t=e.sent,console.log("hay capitan",t.data),"ok"==t.data?U(!0):U(!1),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("no hay capitan",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Y=B.nombre,J=B.image,Q=B.type,z=B.leg,D=B.eye,G=B.hand,K=B.chest;return console.log(B),Object(b.jsxs)("div",{children:[Object(b.jsx)(A,{}),Object(b.jsx)("h1",{children:"Add pirate"}),E&&Object(b.jsxs)(l.a,Object(y.a)(Object(y.a)({form:d,initialValues:!g&&E?{leg:z,type:Q,nombre:Y,eye:D,hand:G,chest:K,image:J}:{leg:!0,eye:!0,hand:!0},name:"register"},{labelCol:{span:8},wrapperCol:{span:8}}),{},{onFinish:g?function(e){console.log("Received values of form: ",e),p.a.post("http://localhost:8000/api/pirate/create",e).then((function(e){200===e.status?(f.a.fire("Exito!","El registro se ha guardado con exito","success"),a.push("/")):f.a.fire("Error!","Ha ocurrido un error","error")})).catch((function(e){f.a.fire("Error",e.response.data.message,"error")}))}:function(e){console.log("Received values of form: ",e),p.a.put("http://localhost:8000/api/pirate/update/".concat(c),e).then((function(e){200===e.status?(f.a.fire("Exito!","El registro se ha guardado con exito","success"),a.push("/")):f.a.fire("Error!","Ha ocurrido un error","error")})).catch((function(e){f.a.fire("Error",e.response.data.message,"error")}))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(b.jsx)(l.a.Item,{label:"Nombre",name:"nombre",rules:[{required:!0,message:"Ingresa el nombre"}],children:Object(b.jsx)(j.a,{})}),Object(b.jsx)(l.a.Item,{label:"Imagen",name:"image",rules:[{required:!0,message:"Ingresa La URL de la imagen"}],children:Object(b.jsx)(j.a,{})}),Object(b.jsx)(l.a.Item,{label:"chest",name:"chest",rules:[{required:!0,message:"Ingresa la cantidad de chest"}],children:Object(b.jsx)(T.a,{})}),Object(b.jsx)(l.a.Item,{name:"type",label:"type",rules:[{required:!0,message:"Selecciona el tipo"}],children:Object(b.jsxs)(w.a,{defaultValue:"",children:[Object(b.jsx)(s,{value:"",children:"Selecciona tipo"}),Object(b.jsx)(s,{value:"First Mate",children:"First Mate"}),Object(b.jsx)(s,{value:"Quart master",children:"Quart Master"}),Object(b.jsx)(s,{value:"Boatwain",children:"Boatwain"}),Object(b.jsx)(s,{value:"Powder Monkey",children:"POwder monkey"}),!N&&Object(b.jsx)(s,{value:"Capitan",children:"Capitan"})]})}),Object(b.jsx)(l.a.Item,{name:"leg",valuePropName:"checked",wrapperCol:{offset:3,span:8},children:Object(b.jsx)(R.a,{children:"leg"})}),Object(b.jsx)(l.a.Item,{name:"eye",valuePropName:"checked",wrapperCol:{offset:3,span:8},children:Object(b.jsx)(R.a,{children:"eye"})}),Object(b.jsx)(l.a.Item,{name:"hand",valuePropName:"checked",wrapperCol:{offset:3,span:8},children:Object(b.jsx)(R.a,{children:"hand"})}),Object(b.jsx)(l.a.Item,{wrapperCol:{offset:8,span:8},children:Object(b.jsx)(u.a,{type:"primary",htmlType:"submit",children:"Submit"})})]}))]})},H=function(){return Object(b.jsx)("div",{children:Object(b.jsxs)(S.a,{children:[Object(b.jsx)(P.a,{span:12,children:Object(b.jsx)(C,{})}),Object(b.jsx)(P.a,{span:12,children:Object(b.jsx)(g,{})})]})})},L=a(267),V=function(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),a=t[0],r=t[1],c=Object(n.useContext)(O),s=c.usuario,o=(c.setUsuario,Object(i.f)());console.log(s);var l=L.a.Content,j=function(){var e=Object(F.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("http://localhost:8000/api/pirate/all");case 3:t=e.sent,console.log(t.data),r(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){s?j():(console.log("no hay usuario"),o.push("/login"))}),[s]),console.log(a);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(A,{}),Object(b.jsxs)(l,{style:{padding:"0 50px"},children:[Object(b.jsx)("h1",{children:"Pirate Crew"}),Object(b.jsx)("div",{style:{textAlign:"right"},children:Object(b.jsx)(u.a,{type:"primary",onClick:function(){o.push("/addpirate")},children:"Add Pirate"})}),null===a||void 0===a?void 0:a.map((function(e){return Object(b.jsx)(N.a,{style:{width:"80%"},children:Object(b.jsxs)(S.a,{children:[Object(b.jsx)(P.a,{span:12,children:Object(b.jsx)(q.a,{src:e.image})}),Object(b.jsxs)(P.a,{span:12,children:[Object(b.jsx)("h1",{children:e.nombre}),Object(b.jsxs)(S.a,{children:[Object(b.jsx)(P.a,{span:6,children:Object(b.jsx)(u.a,{type:"primary",onClick:function(){o.push("/view/".concat(e._id))},children:"View"})}),Object(b.jsx)(P.a,{span:6,children:Object(b.jsx)(u.a,{type:"primary",onClick:function(){return t=e._id,void p.a.delete("http://localhost:8000/api/pirate/".concat(t)).then((function(e){console.log(e),j()})).catch((function(e){console.log(e)}));var t},children:"Eliminar"})}),Object(b.jsx)(P.a,{span:6,children:Object(b.jsx)(u.a,{type:"primary",onClick:function(){o.push("/edit/".concat(e._id))},children:"Editar"})})]})]})]})})}))]})]})},Y=function(){var e=Object(n.useContext)(O);e.usuario,e.setUsuario;return Object(b.jsx)("div",{children:Object(b.jsx)(o.a,{children:Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{exact:!0,path:"/",component:V}),Object(b.jsx)(i.a,{exact:!0,path:"/login",component:H}),Object(b.jsx)(i.a,{exact:!0,path:"/register",component:C}),Object(b.jsx)(i.a,{exact:!0,path:"/edit/:id",component:B}),Object(b.jsx)(i.a,{exact:!0,path:"/view/:id",component:M}),Object(b.jsx)(i.a,{exact:!0,path:"/add",component:_}),Object(b.jsx)(i.a,{exact:!0,path:"/addpirate",component:B}),Object(b.jsx)(i.a,{path:"*",component:v})]})})})};var J=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(m,{children:Object(b.jsx)(Y,{})})})},Q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,276)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(J,{})}),document.getElementById("root")),Q()}},[[264,1,2]]]);
//# sourceMappingURL=main.94457055.chunk.js.map